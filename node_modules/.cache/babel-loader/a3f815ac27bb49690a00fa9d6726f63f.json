{"ast":null,"code":"import axios from \"axios\";\nconst ARTICLES_REST_API_URL = \"http://localhost:8096/api/articles\";\n\nclass ArticleService {\n  getArticles2() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticles2(username) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/salesmen/\" + username, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getOrders() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getOrdersComment(comment) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic/\" + comment, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getOrdersRate(minRate, maxRate) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(`http://localhost:8096/api/ordersElastic/rate?minRate=${minRate}&maxRate=${maxRate}`, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticles() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticlesName(name) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/\" + name, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticlesPrice(minPrice, maxPrice) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(`http://localhost:8096/api/productsElastic/price?minPrice=${minPrice}&maxPrice=${maxPrice}`, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getCarts() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL + \"/carts/\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  createArticle(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price);\n    formdata.append(\"username\", json.username);\n    let articlee = { ...article,\n      username: json.username\n    };\n    console.log(articlee);\n    return axios.post(\"http://localhost:8096/api/productsElastic\", articlee, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  createArticle2(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price); // formdata.append(\"image_src\", \"slika.jpg\")\n\n    formdata.append(\"user\", json.id);\n    console.log(formdata);\n    return axios.post(\"http://localhost:8096/api/articles/new\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  addToCart(article, qty) {\n    console.log(article.product);\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user); // let article = {articlee, username:json.username}\n\n    const formdata = new FormData();\n    formdata.append(\"product\", article.product);\n    formdata.append(\"price\", parseFloat(article.price));\n    formdata.append(\"qty\", qty);\n    console.log(formdata.product);\n    return axios.post(ARTICLES_REST_API_URL + \"/addToCart\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  order(price) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, \"0\");\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n    var yyyy = today.getFullYear();\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n    console.log(json);\n    const formdata = new FormData();\n    formdata.append(\"date\", today);\n    formdata.append(\"delivered\", false);\n    formdata.append(\"rate\", 3);\n    formdata.append(\"comment\", \"Komentar\");\n    formdata.append(\"price\", price);\n    formdata.append(\"anonymousComment\", true);\n    formdata.append(\"archivedComment\", false);\n    formdata.append(\"username\", json.username);\n    let order = {\n      \"date\": today,\n      \"delivered\": false,\n      \"rate\": 5,\n      \"comment\": \"Dobar\",\n      \"price\": price,\n      \"anonymousComment\": true,\n      \"archivedComment\": true,\n      \"username\": json.username\n    };\n    console.log(price, json.username);\n    return axios.post(\"http://localhost:8096/api/ordersElastic\", order, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  getArticleById(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/id\" + \"/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  updateArticle(article, articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    console.log(\"username:\" + json.username);\n    let articlee = { ...article,\n      username: json.username\n    };\n    return axios.put(\"http://localhost:8096/api/productsElastic/update\" + \"/\" + articleId, articlee, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  deleteArticle(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(\"http://localhost:8096/api/productsElastic\" + \"/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  deleteFromCart(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(ARTICLES_REST_API_URL + \"/carts/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n}\n\nexport default new ArticleService();","map":{"version":3,"sources":["/home/ubuntu/Downloads/OSA-React-master/src/services/ArticleService.js"],"names":["axios","ARTICLES_REST_API_URL","ArticleService","getArticles2","user","localStorage","getItem","json","JSON","parse","get","headers","Authorization","accessToken","username","getOrders","getOrdersComment","comment","getOrdersRate","minRate","maxRate","getArticles","getArticlesName","name","getArticlesPrice","minPrice","maxPrice","getCarts","createArticle","article","formdata","FormData","append","description","price","articlee","console","log","post","createArticle2","id","addToCart","qty","product","parseFloat","order","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","getArticleById","articleId","updateArticle","put","deleteArticle","delete","deleteFromCart"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nconst ARTICLES_REST_API_URL = \"http://localhost:8096/api/articles\";\n\nclass ArticleService {\n  getArticles2() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticles2(username) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/salesmen/\" + username, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getOrders() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getOrdersComment(comment) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic/\"+comment, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getOrdersRate(minRate, maxRate) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(`http://localhost:8096/api/ordersElastic/rate?minRate=${minRate}&maxRate=${maxRate}`, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticles() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticlesName(name) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/\" + name, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticlesPrice(minPrice, maxPrice) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\n      `http://localhost:8096/api/productsElastic/price?minPrice=${minPrice}&maxPrice=${maxPrice}`,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n        },\n      }\n    );\n  }\n\n  getCarts() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL + \"/carts/\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  createArticle(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price);\n    formdata.append(\"username\", json.username);\n    let articlee = {...article, username:json.username}\n    console.log(articlee);\n    return axios.post(\"http://localhost:8096/api/productsElastic\", articlee, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  createArticle2(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price);\n    // formdata.append(\"image_src\", \"slika.jpg\")\n    formdata.append(\"user\", json.id);\n    console.log(formdata);\n    return axios.post(\"http://localhost:8096/api/articles/new\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  addToCart(article, qty) {\n    console.log(article.product)\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    // let article = {articlee, username:json.username}\n    const formdata = new FormData();\n    formdata.append(\"product\", article.product);\n    formdata.append(\"price\", parseFloat(article.price));\n    formdata.append(\"qty\", qty);\n    console.log(formdata.product);\n    return axios.post(ARTICLES_REST_API_URL + \"/addToCart\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  order(price) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, \"0\");\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n    var yyyy = today.getFullYear();\n\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n\n    console.log(json);\n    const formdata = new FormData();\n    formdata.append(\"date\", today);\n    formdata.append(\"delivered\", false);\n    formdata.append(\"rate\", 3);\n    formdata.append(\"comment\", \"Komentar\");\n    formdata.append(\"price\", price);\n    formdata.append(\"anonymousComment\", true);\n    formdata.append(\"archivedComment\", false);\n    formdata.append(\"username\", json.username);\n    let order = {\"date\":today, \"delivered\":false,\"rate\":5,\"comment\":\"Dobar\",\"price\":price,\"anonymousComment\":true,\n    \"archivedComment\":true,\"username\":json.username}\n    console.log(price, json.username);\n    return axios.post(\"http://localhost:8096/api/ordersElastic\", order, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  getArticleById(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\n      \"http://localhost:8096/api/productsElastic/id\" + \"/\" + articleId,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Credentials\": \"true\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n  }\n\n  updateArticle(article, articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    console.log(\"username:\"+json.username)\n    let articlee = {...article, username:json.username}\n    return axios.put(\n      \"http://localhost:8096/api/productsElastic/update\" + \"/\" + articleId,\n      articlee,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n          \"Access-Control-Allow-Credentials\": \"true\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n  }\n\n  deleteArticle(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(\n      \"http://localhost:8096/api/productsElastic\" + \"/\" + articleId,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n          \"Access-Control-Allow-Credentials\": \"true\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n  }\n\n  deleteFromCart(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(ARTICLES_REST_API_URL + \"/carts/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n}\n\nexport default new ArticleService();\n"]},"metadata":{},"sourceType":"module"}