{"ast":null,"code":"import axios from \"axios\";\nconst ARTICLES_REST_API_URL = \"http://localhost:8096/api/articles\";\n\nclass ArticleService {\n  getArticles2() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getOrders() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getOrdersComment(comment) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic/\" + comment, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticles() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticlesName(name) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/\" + name, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getArticlesPrice(minPrice, maxPrice) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(`http://localhost:8096/api/productsElastic/price?minPrice=${minPrice}&maxPrice=${maxPrice}`, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  }\n\n  getCarts() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL + \"/carts/\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`\n      }\n    });\n  } // getImages(image_src){\n  //     let user = localStorage.getItem(\"user\")\n  //     var json = JSON.parse(user);\n  //     return axios.get(ARTICLES_REST_API_URL + \"/getImage/\" + image_src, {\n  //         headers: {\n  //             'Authorization': `Bearer ${json.accessToken}`\n  //           }\n  //     });\n  // }\n\n\n  createArticle(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price); // formdata.append(\"image_src\", article.image_src)\n    // formdata.append(\"user\", json.id)\n\n    console.log(formdata);\n    return axios.post(\"http://localhost:8096/api/productsElastic\", article, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  createArticle2(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price); // formdata.append(\"image_src\", \"slika.jpg\")\n\n    formdata.append(\"user\", json.id);\n    console.log(formdata);\n    return axios.post(\"http://localhost:8096/api/articles/new\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  addToCart(article, qty) {\n    console.log(article.product + \"blaa\");\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"product\", article.product);\n    formdata.append(\"price\", article.price);\n    formdata.append(\"qty\", qty);\n    console.log(formdata.product);\n    return axios.post(ARTICLES_REST_API_URL + \"/addToCart\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  order(price) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, \"0\");\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n    var yyyy = today.getFullYear();\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n    console.log(json);\n    const formdata = new FormData();\n    formdata.append(\"date\", today);\n    formdata.append(\"delivered\", false);\n    formdata.append(\"rate\", 1);\n    formdata.append(\"comment\", \"Komentar\");\n    formdata.append(\"price\", price);\n    formdata.append(\"anonymousComment\", false);\n    formdata.append(\"archivedComment\", false);\n    formdata.append(\"username\", json.username);\n    let order = {\n      \"date\": today,\n      \"delivered\": false,\n      \"rate\": 1,\n      \"comment\": \"Komentar\",\n      \"price\": price,\n      \"anonymousComment\": false,\n      \"archivedComment\": false,\n      \"username\": json.username\n    };\n    console.log(price, json.username);\n    return axios.post(\"http://localhost:8096/api/ordersElastic\", order, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  getArticleById(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/id\" + \"/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  updateArticle(article, articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.put(\"http://localhost:8096/api/productsElastic/update\" + \"/\" + articleId, article, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  deleteArticle(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(\"http://localhost:8096/api/productsElastic\" + \"/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n  deleteFromCart(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(ARTICLES_REST_API_URL + \"/carts/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n\n}\n\nexport default new ArticleService();","map":{"version":3,"sources":["/home/ubuntu/Downloads/OSA-React-master/src/services/ArticleService.js"],"names":["axios","ARTICLES_REST_API_URL","ArticleService","getArticles2","user","localStorage","getItem","json","JSON","parse","get","headers","Authorization","accessToken","getOrders","getOrdersComment","comment","getArticles","getArticlesName","name","getArticlesPrice","minPrice","maxPrice","getCarts","createArticle","article","formdata","FormData","append","description","price","console","log","post","createArticle2","id","addToCart","qty","product","order","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","username","getArticleById","articleId","updateArticle","put","deleteArticle","delete","deleteFromCart"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nconst ARTICLES_REST_API_URL = \"http://localhost:8096/api/articles\";\n\nclass ArticleService {\n  getArticles2() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getOrders() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getOrdersComment(comment) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/ordersElastic/\"+comment, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticles() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticlesName(name) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\"http://localhost:8096/api/productsElastic/\" + name, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  getArticlesPrice(minPrice, maxPrice) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\n      `http://localhost:8096/api/productsElastic/price?minPrice=${minPrice}&maxPrice=${maxPrice}`,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n        },\n      }\n    );\n  }\n\n  getCarts() {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(ARTICLES_REST_API_URL + \"/carts/\", {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n      },\n    });\n  }\n\n  // getImages(image_src){\n\n  //     let user = localStorage.getItem(\"user\")\n  //     var json = JSON.parse(user);\n  //     return axios.get(ARTICLES_REST_API_URL + \"/getImage/\" + image_src, {\n  //         headers: {\n  //             'Authorization': `Bearer ${json.accessToken}`\n  //           }\n  //     });\n  // }\n\n  createArticle(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price);\n    // formdata.append(\"image_src\", article.image_src)\n    // formdata.append(\"user\", json.id)\n    console.log(formdata);\n    return axios.post(\"http://localhost:8096/api/productsElastic\", article, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  createArticle2(article) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"name\", article.name);\n    formdata.append(\"description\", article.description);\n    formdata.append(\"price\", article.price);\n    // formdata.append(\"image_src\", \"slika.jpg\")\n    formdata.append(\"user\", json.id);\n    console.log(formdata);\n    return axios.post(\"http://localhost:8096/api/articles/new\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  addToCart(article, qty) {\n    console.log(article.product + \"blaa\");\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    const formdata = new FormData();\n    formdata.append(\"product\", article.product);\n    formdata.append(\"price\", article.price);\n    formdata.append(\"qty\", qty);\n    console.log(formdata.product);\n    return axios.post(ARTICLES_REST_API_URL + \"/addToCart\", formdata, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  order(price) {\n    let user = localStorage.getItem(\"user\");\n    let json = JSON.parse(user);\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, \"0\");\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n    var yyyy = today.getFullYear();\n\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n\n    console.log(json);\n    const formdata = new FormData();\n    formdata.append(\"date\", today);\n    formdata.append(\"delivered\", false);\n    formdata.append(\"rate\", 1);\n    formdata.append(\"comment\", \"Komentar\");\n    formdata.append(\"price\", price);\n    formdata.append(\"anonymousComment\", false);\n    formdata.append(\"archivedComment\", false);\n    formdata.append(\"username\", json.username);\n    let order = {\"date\":today, \"delivered\":false,\"rate\":1,\"comment\":\"Komentar\",\"price\":price,\"anonymousComment\":false,\n    \"archivedComment\":false,\"username\":json.username}\n    console.log(price, json.username);\n    return axios.post(\"http://localhost:8096/api/ordersElastic\", order, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  getArticleById(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.get(\n      \"http://localhost:8096/api/productsElastic/id\" + \"/\" + articleId,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Credentials\": \"true\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n  }\n\n  updateArticle(article, articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.put(\n      \"http://localhost:8096/api/productsElastic/update\" + \"/\" + articleId,\n      article,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n          \"Access-Control-Allow-Credentials\": \"true\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n  }\n\n  deleteArticle(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(\n      \"http://localhost:8096/api/productsElastic\" + \"/\" + articleId,\n      {\n        headers: {\n          Authorization: `Bearer ${json.accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n          \"Access-Control-Allow-Credentials\": \"true\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n  }\n\n  deleteFromCart(articleId) {\n    let user = localStorage.getItem(\"user\");\n    var json = JSON.parse(user);\n    return axios.delete(ARTICLES_REST_API_URL + \"/carts/\" + articleId, {\n      headers: {\n        Authorization: `Bearer ${json.accessToken}`,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n}\n\nexport default new ArticleService();\n"]},"metadata":{},"sourceType":"module"}