{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Downloads/OSA-React-master/src/components/ShoppingCart.js\";\nimport React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport AuthService from \"../services/auth.service\";\nimport ArticleService from \"../services/ArticleService\";\nexport default class ShoppingCart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOrder = e => {\n      e.preventDefault();\n      ArticleService.order(this.state.totalPrice).then(res => {\n        console.log(\"Order\");\n      });\n    };\n\n    this.state = {\n      articles: [],\n      totalPrice: 0\n    };\n  }\n\n  totalPriceFun(arr) {\n    arr.forEach(art => {\n      this.setState({\n        totalPrice: this.totalPrice + art.qty * art.price\n      });\n    });\n  }\n\n  componentDidMount() {\n    ArticleService.getCarts().then(response => {\n      console.log(response.data[0]);\n      this.setState({\n        articles: response.data\n      });\n      response.data.forEach(art => {\n        this.setState({\n          totalPrice: this.state.totalPrice + art.price * art.qty\n        });\n      });\n    }, error => {\n      this.setState({\n        content: error.response && error.response.data || error.message || error.toString() || console.log(\"GRESKAAA\")\n      });\n    });\n  }\n\n  deleteFromCartt(id) {\n    ArticleService.deleteFromCart(id).then(res => {\n      console.log(this.state.articles);\n      this.setState({\n        articles: this.state.articles.filter(articles => articles.id !== id)\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"containerr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"shoppingCartH1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Shopping Cart\"), React.createElement(\"div\", {\n      className: \"tableDiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Qty\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Total\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.articles.map(art => React.createElement(\"tr\", {\n      key: art.product_id.id,\n      className: \"tablerow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, art.product_id.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, art.product_id.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, art.qty), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, art.qty * art.price), React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: () => this.deleteFromCartt(art.id),\n      className: \"btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(\"div\", {\n      className: \"total\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"totalPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Ukupno: \"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.totalPrice)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-success pay\",\n      onClick: this.handleOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Poruci\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/ubuntu/Downloads/OSA-React-master/src/components/ShoppingCart.js"],"names":["React","Component","Form","Input","CheckButton","AuthService","ArticleService","ShoppingCart","constructor","props","handleOrder","e","preventDefault","order","state","totalPrice","then","res","console","log","articles","totalPriceFun","arr","forEach","art","setState","qty","price","componentDidMount","getCarts","response","data","error","content","message","toString","deleteFromCartt","id","deleteFromCart","filter","render","width","map","product_id","name","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\n\nimport AuthService from \"../services/auth.service\";\nimport ArticleService from \"../services/ArticleService\";\n\nexport default class ShoppingCart extends Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      articles: [],\n      totalPrice: 0,\n    };\n  }\n\n  totalPriceFun(arr) {\n    arr.forEach(art => {\n      this.setState({\n        totalPrice: this.totalPrice +  (art.qty * art.price)\n      })\n      \n    });\n  }\n\n  componentDidMount() {\n    ArticleService.getCarts().then(\n      response => {\n        console.log(response.data[0])\n        this.setState({\n          articles: response.data\n        });\n        response.data.forEach(art => {\n          this.setState({\n            totalPrice: this.state.totalPrice + (art.price * art.qty)\n          })\n\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response && error.response.data) ||\n            error.message ||\n            error.toString() ||\n            console.log(\"GRESKAAA\")\n        });\n      }\n\n    );\n  }\n\n  deleteFromCartt(id){\n    ArticleService.deleteFromCart(id).then(res => {\n      console.log(this.state.articles)\n        this.setState({articles: this.state.articles.filter(articles => articles.id !== id)});\n    });\n\n}\n\n\n  handleOrder = (e) =>{\n    e.preventDefault();\n    ArticleService.order(this.state.totalPrice).then(res => {\n      console.log(\"Order\")\n  });\n    \n  }\n\n  \n\n  render() {\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"containerr\">\n          <h1 className=\"shoppingCartH1\">Shopping Cart</h1>\n          <div className=\"tableDiv\">\n            <table style={{width:\"100%\"}}>\n              <thead>\n                <tr>\n                  {/* <th>Image</th> */}\n                  <th>Name</th>\n                  <th>Price</th>\n                  <th>Qty</th>\n                  <th>Total</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {this.state.articles.map(art => \n                  <tr key = {art.product_id.id} className=\"tablerow\">\n                    {/* <td> <img alt=\"\" src={`http://localhost:8096/api/articles/getImage/${art.product_id.image_src}`} width=\"70px\" height=\"70px\"/></td> */}\n                    <td>{art.product_id.name}</td>\n                    <td>{art.product_id.price}</td>\n                    <td>{art.qty}</td>\n                    <td>{(art.qty)*art.price}</td>\n                    <button style={{marginLeft: \"10px\"}} onClick={ () => this.deleteFromCartt(art.id)} className=\"btn btn-danger\">Delete</button>\n                  </tr>\n                )}\n              \n              </tbody>\n              \n            </table>\n           \n          </div>\n          <div className=\"total\">\n            <p className=\"totalPrice\"><b>Ukupno: </b><span>{this.state.totalPrice}</span></p>\n            <br/><button className=\"btn btn-success pay\" onClick={this.handleOrder}>Poruci</button>\n          </div>\n        </div>\n\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}